<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TechTrivia Demo Quiz</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }
h1 { color: #333; }
h2 { color: #555; }
button { margin: 5px 0; padding: 8px 12px; cursor: pointer; }
.correct { background-color: #4CAF50; color: white; }
.wrong { background-color: #f44336; color: white; }
#score { font-size: 18px; margin-top: 20px; }
</style>
</head>
<body>
<h1>TechTrivia Demo</h1>
<div id="quiz-container">
  <div id="question-area"></div>
  <div id="options-area"></div>
  <button id="next-btn" style="display:none;">Next Question</button>
</div>
<div id="score"></div>

<script>
// 10 demo questions (tech.json)
const questions = [
  { q: "Which device is considered the 'brain' of the computer?", opts: ["Hard Disk","CPU","RAM","Monitor"], ans: 1 },
  { q: "Which of the following is an input device?", opts: ["Printer","Monitor","Keyboard","Speaker"], ans: 2 },
  { q: "Which memory is volatile?", opts: ["ROM","RAM","Hard Disk","DVD"], ans: 1 },
  { q: "Which keyword in C can be used to make a local variable retain its value?", opts: ["const","volatile","static","extern"], ans: 2 },
  { q: "What is a class in OOP?", opts: ["A function","A blueprint for objects","A variable type","A library"], ans: 1 },
  { q: "Which type of variable is stored in memory for the entire execution?", opts: ["Local","Automatic","Static","Register"], ans: 2 },
  { q: "Which data structure uses LIFO principle?", opts: ["Queue","Stack","Linked List","Tree"], ans: 1 },
  { q: "Which sorting algorithm has the best average case time complexity?", opts: ["Bubble Sort","Selection Sort","Quick Sort","Insertion Sort"], ans: 2 },
  { q: "Which of the following is an application of stack?", opts: ["Undo feature","Page replacement","CPU Scheduling","Hashing"], ans: 0 },
  { q: "Which network device forwards data based on IP addresses?", opts: ["Switch","Router","Hub","Bridge"], ans: 1 }
];

let currentQ = 0;
let score = 0;

const qArea = document.getElementById("question-area");
const optArea = document.getElementById("options-area");
const nextBtn = document.getElementById("next-btn");
const scoreDiv = document.getElementById("score");

function showQuestion() {
  qArea.innerHTML = `<h2>Q${currentQ+1}: ${questions[currentQ].q}</h2>`;
  optArea.innerHTML = '';
  nextBtn.style.display = 'none';
  questions[currentQ].opts.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.innerText = opt;
    btn.onclick = () => {
      if(i === questions[currentQ].ans) {
        btn.classList.add("correct");
        score++;
      } else {
        btn.classList.add("wrong");
        // highlight correct answer
        optArea.children[questions[currentQ].ans].classList.add("correct");
      }
      Array.from(optArea.getElementsByTagName("button")).forEach(b => b.disabled = true);
      nextBtn.style.display = 'inline-block';
      scoreDiv.innerText = `Score: ${score} / ${questions.length}`;
    };
    optArea.appendChild(btn);
  });
}

nextBtn.onclick = () => {
  currentQ++;
  if(currentQ < questions.length) showQuestion();
  else {
    qArea.innerHTML = "<h2>Quiz Completed!</h2>";
    optArea.innerHTML = '';
    nextBtn.style.display = 'none';
    scoreDiv.innerHTML = `<strong>Final Score: ${score} / ${questions.length}</strong>`;
  }
};

// start quiz
showQuestion();
</script>
</body>
</html>
